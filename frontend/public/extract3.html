<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>주민등록표 초본</title>
    <link rel="stylesheet" href="extra.css"/>
    <style>
        @media print {
            html, body {
                width: 210mm;
                height: 297mm;
                margin: 0;
                padding: 0;
            }
            .doc-container {
                height: 100%;
                page-break-after: avoid;
            }
            .empty-row {
                height: 20px;
            }
        }
    </style>
    <script>
        // 오늘 날짜 및 시간 삽입
        window.addEventListener('DOMContentLoaded', () => {
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            document.getElementById('issue-date').textContent = `${yyyy}년 ${mm}월 ${dd}일`;
            document.getElementById('issue-datetime').textContent =
                `${yyyy}-${mm}-${dd} ${today.getHours().toString().padStart(2, '0')}:${today.getMinutes().toString().padStart(2, '0')}:${today.getSeconds().toString().padStart(2, '0')}`;
        });

        // 백엔드로 STT/TTS 요청
        window.onload = async function () {
            const condition = "초본 출력";
            try {
                const response = await fetch("http://localhost:8000/api/stt-tts", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ condition: condition })
                });
                const data = await response.json();
                console.log("백엔드 응답:", data);
            } catch (error) {
                console.error("백엔드 호출 오류:", error);
            }
        };
    </script>
</head>
<body>
<div class="doc-container">
    <div class="doc-header">
        <span class="docinfo">
          문서확인번호 : 2025-0818-2132-02<br/>
          <span id="issue-datetime"></span>
        </span>
    </div>

    <div class="doc-title">주민등록표</div>
    <div class="doc-subtitle">( 초&nbsp;&nbsp;본 )</div>

    <div class="issuer">서울특별시 종로구청장</div>

    <table class="info-table">
        <tr>
            <th>성명(한자)</th>
            <td>李英姬</td>
            <th>주민등록번호</th>
            <td>970101-3456789</td>
        </tr>
        <tr>
            <th>세대주 성명</th>
            <td>이영희</td>
            <th>세대주와의 관계</th>
            <td>본인</td>
        </tr>
    </table>

    <table class="list-table">
        <thead>
        <tr>
            <th style="width: 45%">주소</th>
            <th style="width: 20%">전입일</th>
            <th style="width: 20%">신고일</th>
            <th style="width: 15%">변동사유</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td class="addr-cell">서울특별시 종로구 율곡로 123</td>
            <td>2017-04-15</td>
            <td>2017-04-15</td>
            <td>전입</td>
        </tr>
        <tr>
            <td class="addr-cell">서울특별시 서대문구 충정로 45</td>
            <td>2021-10-30</td>
            <td>2021-10-30</td>
            <td>전입</td>
        </tr>
        <tr>
            <td class="addr-cell">서울특별시 중랑구 용마산로 33</td>
            <td>2024-07-02</td>
            <td>2024-07-02</td>
            <td>전입</td>
        </tr>

        <tr class="ye-bak">
            <td colspan="4">== 이하 여백 ==</td>
        </tr>

        <!-- A4 채우기용 빈칸 10줄 -->
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
        <tr class="empty-row"><td colspan="4">&nbsp;</td></tr>
    </tbody>
    </table>

    <div class="notice-box">
        이 초본은 주민등록법 시행령에 따라 개인의 인적사항 및 주소변경 사항을 증명합니다.
        <br/>발급기관: 서울특별시 종로구청 | 담당자: OOO | 연락처: 02-1234-5678
    </div>
</div>
</body>
</html>